{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Popper from 'popper.js';\nimport { Component, PropTypes, Transition, View } from '../../libs';\n\nvar DropdownMenu = function (_Component) {\n  _inherits(DropdownMenu, _Component);\n\n  function DropdownMenu(props) {\n    _classCallCheck(this, DropdownMenu);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      showPopper: false\n    };\n    return _this;\n  }\n\n  DropdownMenu.prototype.onVisibleChange = function onVisibleChange(visible) {\n    this.setState({\n      showPopper: visible\n    });\n  };\n\n  DropdownMenu.prototype.onEnter = function onEnter() {\n    var parent = ReactDOM.findDOMNode(this.parent());\n    this.popperJS = new Popper(parent, this.refs.popper, {\n      placement: this.placement(),\n      modifiers: {\n        computeStyle: {\n          gpuAcceleration: false\n        }\n      }\n    });\n  };\n\n  DropdownMenu.prototype.onAfterLeave = function onAfterLeave() {\n    this.popperJS.destroy();\n  };\n\n  DropdownMenu.prototype.parent = function parent() {\n    return this.context.component;\n  };\n\n  DropdownMenu.prototype.placement = function placement() {\n    return 'bottom-' + this.parent().props.menuAlign;\n  };\n\n  DropdownMenu.prototype.render = function render() {\n    return React.createElement(Transition, {\n      name: 'el-zoom-in-top',\n      onEnter: this.onEnter.bind(this),\n      onAfterLeave: this.onAfterLeave.bind(this)\n    }, React.createElement(View, {\n      show: this.state.showPopper\n    }, React.createElement('ul', {\n      ref: 'popper',\n      style: this.style(),\n      className: this.className('el-dropdown-menu')\n    }, this.props.children)));\n  };\n\n  return DropdownMenu;\n}(Component);\n\nexport default DropdownMenu;\nDropdownMenu.contextTypes = {\n  component: PropTypes.any\n};","map":null,"metadata":{},"sourceType":"module"}