{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { debounce } from 'throttle-debounce';\nimport { PropTypes } from '../../libs';\nimport BasePicker from './BasePicker';\nimport TimePanel from './panel/TimePanel';\nimport { TYPE_VALUE_RESOLVER_MAP, DEFAULT_FORMATS } from './constants';\n\nfunction converSelectRange(props) {\n  var selectableRange = [];\n\n  if (props.selectableRange) {\n    var ranges = props.selectableRange;\n    var parser = TYPE_VALUE_RESOLVER_MAP.datetimerange.parser;\n    var format = DEFAULT_FORMATS.timerange;\n    ranges = Array.isArray(ranges) ? ranges : [ranges];\n    selectableRange = ranges.map(function (range) {\n      return parser(range, format);\n    });\n  }\n\n  return selectableRange;\n}\n\nvar TimePicker = function (_BasePicker) {\n  _inherits(TimePicker, _BasePicker);\n\n  _createClass(TimePicker, null, [{\n    key: 'propTypes',\n    // why this is used, goto: http://exploringjs.com/es6/ch_classes.html\n    get: function get() {\n      var result = Object.assign({}, {\n        // '18:30:00 - 20:30:00'\n        // or ['09:30:00 - 12:00:00', '14:30:00 - 18:30:00']\n        selectableRange: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)])\n      }, BasePicker.propTypes);\n      return result;\n    }\n  }, {\n    key: 'defaultProps',\n    get: function get() {\n      var result = Object.assign({}, BasePicker.defaultProps);\n      return result;\n    }\n  }]);\n\n  function TimePicker(props) {\n    _classCallCheck(this, TimePicker);\n\n    var _this = _possibleConstructorReturn(this, _BasePicker.call(this, props, 'time', {}));\n\n    _this._onSelectionChange = debounce(200, _this.onSelectionChange.bind(_this));\n    return _this;\n  }\n\n  TimePicker.prototype.onSelectionChange = function onSelectionChange(start, end) {\n    this.refs.inputRoot.refs.input.setSelectionRange(start, end);\n    this.refs.inputRoot.refs.input.focus();\n  };\n\n  TimePicker.prototype.pickerPanel = function pickerPanel(state, props) {\n    var _this2 = this;\n\n    return React.createElement(TimePanel, _extends({}, props, {\n      currentDate: state.value,\n      onCancel: function onCancel() {\n        return _this2.setState({\n          pickerVisible: false\n        });\n      },\n      onPicked: this.onPicked.bind(this),\n      onSelectRangeChange: this._onSelectionChange,\n      selectableRange: converSelectRange(props)\n    }));\n  };\n\n  return TimePicker;\n}(BasePicker);\n\nexport default TimePicker;","map":null,"metadata":{},"sourceType":"module"}