{"ast":null,"code":"var _jsxFileName = \"/Users/ericlorenzen/smoothlegal/smoothlegal/client/src/components/CheckoutForm.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\nimport { Button } from 'element-react/next';\nlet data;\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complete: false\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(event) {\n    let _ref = await this.props.stripe.createToken({\n      name: \"Name\"\n    }),\n        token = _ref.token;\n\n    let response = await fetch(\"/charge\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\"\n      },\n      body: token._Id\n    });\n\n    if (response.ok) {\n      this.setState({\n        complete: true\n      });\n      console.log(\"Purchase Complete!\");\n      console.log(response);\n    } else {\n      console.log('There was a problem completing the puchase');\n    }\n  }\n\n  render() {\n    if (this.state.complete) return React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Purchase Complete\");\n    return React.createElement(\"div\", {\n      className: \"checkout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(CardElement, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Confirm order\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/ericlorenzen/smoothlegal/smoothlegal/client/src/components/CheckoutForm.js"],"names":["React","Component","CardElement","injectStripe","Button","data","CheckoutForm","constructor","props","state","complete","submit","bind","event","stripe","createToken","name","token","response","fetch","method","headers","body","_Id","ok","setState","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,uBAAxC;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,IAAIC,IAAJ;;AAEA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AACjCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAZ;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACH;;AAED,QAAMD,MAAN,CAAaE,KAAb,EAAoB;AAAA,eACF,MAAM,KAAKL,KAAL,CAAWM,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,MAAAA,IAAI,EAAE;AAAP,KAA9B,CADJ;AAAA,QACXC,KADW,QACXA,KADW;;AAEhB,QAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAY;AAClCC,MAAAA,MAAM,EAAE,MAD0B;AAElCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFyB;AAGlCC,MAAAA,IAAI,EAAEL,KAAK,CAACM;AAHsB,KAAZ,CAA1B;;AAMA,QAAIL,QAAQ,CAACM,EAAb,EAAiB;AACb,WAAKC,QAAL,CAAc;AAAEf,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACH,KAJD,MAIO;AACHQ,MAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AAEL,QAAI,KAAKnB,KAAL,CAAWC,QAAf,EAAyB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AAEzB,WACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAQ,MAAA,OAAO,EAAE,KAAKC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,CADJ;AAMH;;AAlCgC;;AAqCrC,eAAeR,YAAY,CAACG,YAAD,CAA3B","sourcesContent":["import React, {Component} from 'react';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\nimport { Button } from 'element-react/next';\n\nlet data;\n\nclass CheckoutForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state= {complete: false};\n        this.submit = this.submit.bind(this);\n    }\n\n    async submit(event) {\n        let {token} = await this.props.stripe.createToken({name: \"Name\"});\n        let response = await fetch(\"/charge\", {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"text/plain\"},\n            body: token._Id\n        });\n    \n        if (response.ok) {\n            this.setState({ complete: true });\n            console.log(\"Purchase Complete!\");\n            console.log(response);\n        } else {\n            console.log('There was a problem completing the puchase')\n        }\n    }\n    \n    render() {\n\n        if (this.state.complete) return <h1>Purchase Complete</h1>;\n\n        return (\n            <div className='checkout'>\n              <CardElement />\n              <button onClick={this.submit}>Confirm order</button>\n            </div>\n        );\n    }\n}\n\nexport default injectStripe(CheckoutForm);"]},"metadata":{},"sourceType":"module"}